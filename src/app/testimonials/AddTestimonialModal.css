/* Centered fixed backdrop */
.atm-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.50);              /* a bit lighter than before */
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000; /* below modal */
}

/* Modal card */
.atm-modal {
  width: min(1200px, 98vw);   /* wider */
  max-height: 90vh;
  overflow: auto;
  /* Glassy panel like your 2nd image */
  background: rgba(18,22,30,0.62);
  color: #eaf1f8;
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 20px 60px rgba(0,0,0,0.45);
  border-radius: 16px;
  padding: 28px 32px;         /* tiny bump for spacing */
  z-index: 1001; /* above backdrop */
  position: relative;
  backdrop-filter: saturate(150%) blur(12px);
}

/* Close button */
.atm-close {
  position: absolute;
  top: 10px;
  right: 12px;
  font-size: 1.75rem;
  background: transparent;
  border: 0;
  color: #eaf1f8;
  cursor: pointer;
  opacity: .9;
}
.atm-close:hover { opacity: 1; }

/* Title */
.atm-title { font-size: 1.25rem; margin: 0 0 .75rem; font-weight: 700; letter-spacing: .2px; }

/* ============================
   FORM LAYOUT & CONTROLS (scoped + specific)
   ============================ */
.atm-modal .atm-form,
.atm-modal form {
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: 18px 20px;
  margin-top: 8px;
  box-sizing: border-box;
}
.atm-modal .col-12 { grid-column: span 12; }
.atm-modal .col-9  { grid-column: span 9; }
.atm-modal .col-8  { grid-column: span 8; }
.atm-modal .col-6  { grid-column: span 6; }
.atm-modal .col-4  { grid-column: span 4; }
.atm-modal .col-3  { grid-column: span 3; }
.atm-modal .col-2  { grid-column: span 2; }

@media (max-width: 720px) {
  .atm-modal .col-9, .atm-modal .col-8, .atm-modal .col-6,
  .atm-modal .col-4, .atm-modal .col-3, .atm-modal .col-2 {
    grid-column: span 12;
  }
}

.atm-modal .atm-form label,
.atm-modal form label {
  display: block;
  font-size: .86rem;
  font-weight: 600;
  color: rgba(234,241,248,.92);
  margin: 2px 0 6px;
  letter-spacing: .2px;
}

.atm-modal .atm-form input,
.atm-modal .atm-form select,
.atm-modal .atm-form textarea,
.atm-modal form input,
.atm-modal form select,
.atm-modal form textarea {
  width: 100%;
  display: block;
  box-sizing: border-box;
  height: 46px;
  padding: .65rem .95rem;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.26);
  background: rgba(255,255,255,.12);
  color: #eaf1f8;
  outline: none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
}
.atm-modal .atm-form textarea,
.atm-modal form textarea { min-height: 110px; height: auto; resize: vertical; }
.atm-modal .atm-form input::placeholder,
.atm-modal .atm-form textarea::placeholder,
.atm-modal form input::placeholder,
.atm-modal form textarea::placeholder { color: rgba(234,241,248,.55); }

.atm-modal .atm-form input:focus,
.atm-modal .atm-form select:focus,
.atm-modal .atm-form textarea:focus,
.atm-modal form input:focus,
.atm-modal form select:focus,
.atm-modal form textarea:focus {
  border-color: rgba(34,193,214,.9);
  box-shadow: 0 0 0 3px rgba(34,193,214,.22), inset 0 0 0 1px rgba(255,255,255,.06);
  background: rgba(255,255,255,.16);
}

.atm-modal .atm-form select,
.atm-modal form select { appearance: none; background-clip: padding-box; }
.atm-modal .atm-form input[type="number"],
.atm-modal form input[type="number"] { -moz-appearance: textfield; }
.atm-modal .atm-form input[type="number"]::-webkit-outer-spin-button,
.atm-modal .atm-form input[type="number"]::-webkit-inner-spin-button,
.atm-modal form input[type="number"]::-webkit-outer-spin-button,
.atm-modal form input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

.atm-actions {
  grid-column: 1 / -1;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 4px;
}
.atm-actions button {
  height: 44px;
  padding: 0 18px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.10);
  color: #eaf1f8;
  cursor: pointer;
}
.atm-actions .btn.btn-primary {
  border-color: transparent;
  background: linear-gradient(135deg, #22c1d6, #16b3c4); /* brandy cyan gradient */
  color: #0b1220;
  font-weight: 700;
  padding: 0 22px;
}
.atm-actions .btn.btn-primary:hover { filter: brightness(.98); }
.atm-actions button:hover { filter: brightness(1.05); }

/* ============================
   DROPDOWN / OPTION CONTRAST
   ============================ */
/* Make native form popups (select menus) render for light UI,
   so option list uses white bg + dark text. */
.atm-modal {
  color-scheme: light; /* ensures system popups prefer dark text */
}

/* Ensure option list text is dark on white background (Chromium/Firefox). */
.atm-modal select option {
  color: #0b1220;              /* dark text */
  background-color: #ffffff;   /* white option rows */
}

/* Safari/WebKit sometimes ignores &lt;option&gt; bg; this helps closed state remain light-on-dark */
.atm-modal .atm-form select {
  color: #eaf1f8;              /* keep closed select text light */
}

/* Optional: better focus ring contrast on selects */
.atm-modal .atm-form select:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(34,193,214,.24), inset 0 0 0 1px rgba(255,255,255,.08);
}

/* Autofill color fix for inputs inside dark glass */
.atm-modal input:-webkit-autofill,
.atm-modal textarea:-webkit-autofill,
.atm-modal select:-webkit-autofill {
  -webkit-text-fill-color: #0b1220;
  -webkit-box-shadow: 0 0 0 1000px rgba(255,255,255,.92) inset;
  box-shadow: 0 0 0 1000px rgba(255,255,255,.92) inset;
}
